\documentclass[a4paper]{article}

\usepackage{amssymb}
\usepackage{euscript}
\usepackage{graphicx}
\graphicspath{{pics/}}
\usepackage{color}
\usepackage{epsfig}
\usepackage{fullpage}

\renewcommand{\arraystretch}{1.5}
\renewcommand{\tabcolsep}{1mm}

\begin{document}

\title{$^3$He library}
\date{\today}
\author{\tt vladislav.zavyalov@aalto.fi}
\maketitle

\subsection*{Usage}

This library provides constant and functions for various $^3$He properties.

\noindent Supported Languages:

{\bf Fortran.}
You can use {\tt he3.fh} include file and {\tt libhe3} library in
fortran programs. All functions and arguments are {\tt real*8}.

{\bf C.} You can use {\tt he3.h} include file and {\tt libhe3} library
in C programs. Lowercase names with underscore should be used (like {\tt
he3\_pf\_}). Type of arguments is always {\tt double*}, type of returned
values is {\tt double}.

{\bf Matlab, Octave.} To compile {\tt mex} files you should run {\tt
compile.m} script in the {\tt matlab} folder. Lowercase names should be
used. In function arguments you can use a mix of numbers and arrays or
matrices of the same size. Example:
\begin{verbatim}
  ttc=0:0.1:1; p=10;
  I = he3_coll_int(0, ttc, he3_trivgap(ttc,p), he3_scatt_g0(p), he3_scatt_d0(p));
\end{verbatim}

\subsection*{Location}
\begin{itemize}
\item[\bf GIT]  https://github.com/slazav/he3lib
\item[\bf ROTA]
/home/slazav/he3lib/lib\\
/rota/programs/src/he3lib -- old, ``stable'' version.\\
Use ``{\tt addpath /rota/programs/src/he3lib/matlab}'' in Matlab.
\end{itemize}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection*{General}

\medskip
\noindent\begin{tabular}{lp{11cm}}
\tt he3\_amass     & $^3$He atom mass, $m_3 = 5.0079 \cdot 10^{-24}$~[g]\\
\tt he3\_mmass     & $^3$He molar mass, $\mu = 3.016$~[g/mol]\\
\tt he3\_gyro      & $^3$He gyromagnetic ratio $\gamma = 20378$~[(G s)$^{-1}$],\newline
                     (absolute value!)\\
\tt const\_na      & Avogadro constant $N_A = 6.02214129 \cdot 10^{23}$~[1/mol]\\
\tt const\_kb      & Boltsman constant $k_B = 1.3806488 \cdot 10^{-16}$~[sgs]\\
\tt const\_r       & R-gas constant $R = 8.314472 \cdot 10^{7}$~[sgs]\\
\tt const\_h       & Plank constant $h = 6.62606957 \cdot 10^{27}$~[sgs]\\
\tt const\_hbar    & $\hbar = h/2\pi = 1.054571726 \cdot 10^{27}$~[sgs]\\
\tt const\_pi      & $\pi = 3.1415926535897932$\\
\end{tabular}
\medskip

\noindent TODO: change $\gamma$ to negative value?

\eject
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection*{Phase diagram}

Vapor pressure and critical point are from the {1962~$^3$He scale of
temperatures}. Melting curve $P_m(T)$ at 0.9 -- 250~mK, $T_c(P)$,
$T_{AB}(P)$ and all tricritical points are from {Greywall-86 temperature
scale}. Melting curve minimum is from PLTS-2000 temperature scale.
Melting curve for higher temperatures is from {Osborne, Abraham, Weinstock-1951} and {Mills, Grilly-1955} with
interpolation in the regions 0.25--0.5K and 1.5--2.0K. PLTS-2000 melting
curve and critical points on it are also available. See more information
in the source file {\tt he3\_phase.f}.

\medskip
\noindent\begin{tabular}{lp{11cm}}
\tt he3\_pvap(T)  & Vapor pressure [bar] vs temperature~[K],\newline
                    $ T = 0.2 - 3.324$~K \\
\tt he3\_pcr      & Gas-liquid critical point pressure, $78.111\cdot 10^{-3}$~[bar] \\
\tt he3\_tcr      & Gas-liquid critical point temperature, 3.324~[K] \\
\tt he3\_pmelt(T) & Melting pressure [bar] vs temperature~[K],\newline
                    $ T = 0.0009 - 31$~K\\
\tt he3\_pm       & Melting curve minimum pressure, $29.3113$~[bar]\\
\tt he3\_tm       & Melting curve minimum temperature, $0.31524$~[K]\\
\tt he3\_pa       & Superfluid trans. at melting curve, pressure, 34.3380~[bar]\\
\tt he3\_ta       & Superfluid trans. at melting curve, temp., 2.491~[mK]\\
\tt he3\_pb       & A-B trans. at melting curve, pressure, 34.3580~[bar]\\
\tt he3\_tb       & A-B trans. at melting curve, temp., 1.932~[mK]\\
\tt he3\_ps       & Neel transition at melting curve, pressure, 34.3905~[bar]\\
\tt he3\_ts       & Neel transition at melting curve, temp., 0.9291~[mK]\\
\tt he3\_tc(P)    & Superfluid transition temperature [mK] vs pressure~[bar],\newline
                    $ P = 0 - 34.358 $~bar\\
\tt he3\_tab(P)   & A-B transition temperature [mK] vs pressure [bar],\newline
                    $ P = 0 - 34.3609 $~bar, below 21.22 bar is equal to {\tt he3\_tc}\\
\tt he3\_tabn     & A-B-Normal point temperature, 2.2311~[mK]\\
\tt he3\_pabn     & A-B-Normal point pressure, 21.22~[bar]\\
\end{tabular}
\medskip

PLTS-2000 temperature scale:

\medskip
\noindent\begin{tabular}{lp{11cm}}
\tt he3\_pmelt\_plts(T) & PLTS-2000 melting presure [bar] vs temperature~[K].\\
\tt he3\_pa\_plts       & Superfluid trans. at melting curve, pressure, 34.3407~[bar]\\
\tt he3\_ta\_plts       & Superfluid trans. at melting curve, temp., 2.444~[mK]\\
\tt he3\_pb\_plts       & A-B trans. at melting curve, pressure, 34.3609~[bar]\\
\tt he3\_tb\_plts       & A-B trans. at melting curve, temp., 1.896~[mK]\\
\tt he3\_ps\_plts       & Neel transition at melting curve, pressure, 34.3934~[bar]\\
\tt he3\_ts\_plts       & Neel transition at melting curve, temp., 0.902~[mK]\\
\end{tabular}
\medskip

\begin{figure}[p]
\includegraphics[scale=1.3]{phase1.eps}\\
\includegraphics[scale=1.3]{phase2.eps}
\end{figure}

\eject
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection*{Fermi-liquid parameters}

Fermi-liquid parameters according to {Wheatley-75} table. Values are
calculated using experimental data for molar volume, speed of sound,
magnetic temperature $T^\star$, collected by {Wheatley-75} and heat
capacity ($\gamma_f=C/RT$) measured by {Graywall-86}. Argument is
pressure, [bar] in the range 0 -- 34.4. See more information in the
source file {\tt he3\_fermi.f}.

\medskip
Measured values:

\medskip
\noindent\begin{tabular}{lp{11cm}}
\tt he3\_vm(P)     & Molar volume $v_m$,~[cm$^3$/mol]\\
\tt he3\_c1(P)     & First sound velocity, $c_1$,~[cm/s]\\
\tt he3\_gammaf(P) & R-gas constant $\gamma_f = C/RT$,~[1/(K mol)]\\
\tt he3\_tmag(P)   & Magnetic temperature $T^\star$,~[K]\newline\\
\end{tabular}

Derived values:

\medskip
\noindent\begin{tabular}{lp{11cm}}
\tt he3\_rho(P)    & Density $\rho = \mu/v_m$,~[g/cm$^3$]\\
\tt he3\_2n0(P)    & $\displaystyle 2N(0) = \frac{\gamma_f}{v_m}
                     \ \frac{3 N_A}{k_B \pi^2}$\\
\tt he3\_pf(P)     & $\displaystyle p_F = h \left(\frac{3}{8\pi}
                     \ \frac{N_A}{v_m}\right)^{1/3}$,~[g cm/s]\\
\tt he3\_meff(P)   & $\displaystyle m^\star = \frac{h^3}{8\pi}
                     \ \frac{2N(0)}{p_F}$,~[g]\\
\tt he3\_mm(P)     &$m^\star/m_3$\\
\tt he3\_vf(P)     &$\displaystyle v_F = p_F/m^\star$,~[cm/s]\\
\tt he3\_chi\_n(P) &$\displaystyle \chi_{N} = 2N(0) \frac{(\gamma\hbar)^2}{4(1 + F_0^a)}$.\\
\tt he3\_f0s(P)    &$\displaystyle F_0^s = 3\ m^\star m_3\ c_1^2 / p_F^2 - 1$\\
\tt he3\_f1s(P)    &$\displaystyle F_1^s = 3(m^\star/m_3 - 1)$\\
\tt he3\_f0a(P)    &$\displaystyle F_0^a = Z_0/4 = 3 k_B T^\star m^\star / p_F^2 - 1$\\
\tt he3\_f1a(P)    &$\displaystyle F_1^a$\\

\tt he3\_a(P)      &Average atomic spacing,
                    $\displaystyle a=(v_m/N_A)^{1/3}$,~\AA\\
\tt he3\_gdk(P)    &Average dipolar coupling enegy,
                    $\displaystyle g_d/k_B = \frac{2\pi\gamma^2\hbar^2}{3 v_m k_B}$,~[K]\\
\tt he3\_tfeff(P)  &Effective fermi temperature,
                    $\displaystyle T_{F_{eff}} = \frac{\pi^2}{2\gamma_f}$,~[K]\\
\end{tabular}
\medskip

\noindent TODO:\\
Recalculate $F_0^a$ $F_1^a$ from experimantal data (Now there are some extra
not-consistent data)!
(see Ramm-1970, Halperin-92 ...). Add $F_2^a$ (Halperin-95).
Check $g_d$.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\eject
Pressure-dependent values:
\medskip

{\small\input{ptable.tex}}

\eject
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection*{Energy gap}

BCS energy gap + trivial strong coupling correction + some values
derived from energy gap. See more information in the
source file {\tt he3\_gap.f}.

\medskip
\noindent\begin{tabular}{lp{11cm}}
\tt he3\_bcsgap(ttc)       & BCS gap for 3He-B in $T_c$ units, $\Delta_{\rm BCS}/ k_B T_c$\\
\tt he3\_bcsgap\_fast(ttc) & Einzel approximation for BCS gap (0.5\% accuracy, 70 times faster)\newline
                             {\small(Einzel-1991, f.68)}\\
\tt he3\_trivgap(ttc,P) & Trivial strong-coupling correction to the BCS gap\\
\tt he3\_yosida(ttc, gap, n) & Yosida functions $\displaystyle Y_n(T/T_c,\Delta) =
                               \int_{-\infty}^{\infty} \left(\frac{\xi_k}{E_k}\right)^n
                               \phi_k\ d\xi_k$\\
\tt he3\_yosida\_par(ttc, gap)  & $Y_q^\parallel(T/T_c,\Delta)$\\
\tt he3\_yosida\_perp(ttc, gap) & $Y_q^\perp(T/T_c,\Delta)$\\

\tt he3\_rho\_nb(ttc, p)     &B-phase normal component density\newline
                             $\displaystyle \frac{\rho_B^n}{\rho_{N}} =
                               \frac{(3 + F_1^s) Y_0}{3 + F_1^s Y_0}$\\
\tt he3\_chi\_b(ttc, p)      &B-phase susceptibility\newline
                             $\displaystyle \frac{\chi_B}{\chi_N} =
                               \frac{(1+F_0^a)(2 + Y_0)}
                                     {3+F_0^a(2 + Y_0)}$\\
\end{tabular}
\medskip

\noindent TODO:\\
Look at calculation of {\tt bcsgap} and {\tt trivgap}, include experimental data and reference.\\

\begin{figure}[h]
\includegraphics[scale=1.35]{gap1.eps}\\
\end{figure}
\eject

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection*{Transport properties in the normal phase}

See more information in the source file {\tt he3\_transp\_n.f}.

\medskip

Crossections and scattering factors:

\medskip
\noindent\begin{tabular}{lp{11cm}}
\tt he3\_scatt\_w(P)   & Scattering crossection ${<}W{>}$ {\small(Einzel-1978, f.82)}\\
\tt he3\_scatt\_wi(P)  & ${<}W_I{>}$ {\small(Einzel-1978, f.82)}\\
\tt he3\_scatt\_wd(P)  & ${<}W_D{>}$ {\small(Einzel-1978, f.82)}\\
\tt he3\_scatt\_wl(P)  & ${<}W_L{>}$ {\small(Einzel-1978, f.71)}\\
\tt he3\_scatt\_g0(P)  & Scattering factor $\gamma_0 = <W_I>/<W>$ {\small(Einzel-1978, f.66)}\\
\tt he3\_scatt\_d0(P)  & Scattering factor $\delta_0 = <W_D>/<W>$ {\small(Einzel-1978, f.67)}\\
\tt he3\_scatt\_w0(P)  & $w_0 = 1 - 3/2 \gamma_0 + \delta_0$ {\small(Einzel-1978, f.79)}\\
\tt he3\_scatt\_l1a(P) & Scattering factor $\lambda_1^a$ used in spin diffusion
                         transport time\newline {\small(Einzel-1978, f.74)}\\
\end{tabular}
\medskip

\medskip
\noindent\begin{tabular}{lp{11cm}}
\tt he3\_tau\_n0(ttc,p) &Normal state quasiparticle lifetime at the Fermi level, s.\newline
                    $\displaystyle \tau_N(0,T) =
                    \tau_N(0,T_c) \left(\frac{T_c}{T}\right)^2
                    = \frac{32 E_F\hbar}{{<}W{>}(\pi k_B T)^2}$\newline
                    {\small(Einzel-1991, p.325)}\\
\tt he3\_tau\_n\_av(ttc,p) &Thermal average of normal state quasiparticle lifetime, s.\newline
                    $\displaystyle \bar\tau_N =
                    \left<\frac{\tau_N(0,T)}{1+(\xi_k/\pi T)^2}\right>
                    = \frac34 \tau_N(0,T)\quad$
                    {\small(Einzel-1991, f.4-5)}\\
\tt he3\_tau\_nd(ttc,p) & Spin diffusion transport time for a normal Fermi-liquid, s\newline
                    $\displaystyle \tau_{ND} = \tau_1 = \bar\tau_N/(1-\lambda_1^a)\quad$
                    {\small(Einzel-1991, p.328)}\\

\tt he3\_diffn\_hydr(ttc, p)     & Hydrodynamic spin diffusion in normal liquid, $D_0$, cm$^2$/s\newline
                              {\small (Einzel JLTP84 (1991) f.23)}\\
\tt he3\_diffn\_perp(ttc, p, nu0) & Perpendicular component of spin diffusion, reduced because of
                              the Leggett-Rice effect, $D_N^\perp$, cm$^2$/s\newline
                              {\small (Einzel JLTP84 (1991) f.22)}\\
\end{tabular}
\medskip

\noindent TODO: Now temperature is measured in $T_c$ units which is strange for the normal phase.
Maybe it is better to use K here.

\eject
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection*{Transport properties in the B phase}

Values for {\tt he3\_tau0, he3\_tau\_av, he3\_diff\_*} are extended to
$T>T_c$ region using normal phase functions. See more information in the
source file {\tt he3\_transp\_b.f}.

\medskip

Collision integral for Bogoliubov quasiparticles:

\medskip
\noindent\begin{tabular}{lp{11cm}}
\tt he3\_coll\_int(xi, ttc, gap, g0, d0) &
   Full temperatur range approximation\newline
   {\small (Einzel, Wolfle, Hirschfeld, JLTP80 (1990), p.66)}\\
\tt he3\_coll\_int\_lt(xi, ttc, gap, g0, d0) &
   Collision integral for low temp (good for $< 0.7 T_c$)\newline
   {\small (Einzel, JLTP84 (1991), f.76)}\\
\tt he3\_coll\_int\_ht(xi, ttc, gap, g0, d0) &
   Collision integral for high temp\newline
   {\small (Einzel, JLTP84 (1991), f.75)}\\
\end{tabular}
\medskip

Bogoliubov quasiparticles lifetime and mean free path:

\medskip
\noindent\begin{tabular}{lp{11cm}}
\tt he3\_tau0(ttc, p)      & Lifetime at the Fermi level, s.
                           $\displaystyle\quad 1/\tau(0) = \frac{I (0,T)}{\tau_N(0,T)},$\newline
                            {\small(Einzel-1991, f.74,76. Einzel-1990 f.A1)}\\

\tt he3\_tau0lt(ttc, p)    & $\displaystyle 1/\tau, T\rightarrow0$ limit (does not depend on energy).
                            {\small(Einzel-1978, f.79)}\\
\tt he3\_tau\_av(ttc, p)   & Thermal average lifetime, s.
                           $\displaystyle\quad 1/\bar\tau = \frac{1}{Y_0}
                           \int_{-\infty}^{\infty} \frac{\phi_k\ d\xi}{\tau}$\newline
                            {\small(Einzel-1991, f.77)}\\
\tt he3\_fpathv(ttc, p)    & Mean free path, cm\newline
                             {\small (Einzel JLTP32 (1978) f.84)}\\

\tt he3\_tau\_dperp(ttc, p) &\\
\tt he3\_tau\_dpar(ttc, p)  & Spin diff. transport time, s.
                           \ $\tau_D^{\perp,\parallel} = \bar\tau
                            /(1-\lambda_1^a Y^{\perp,\parallel})$\newline
                            {\small(Einzel-1991, f.90,96)}\\
\end{tabular}
\medskip

Spin diffusion:

\medskip
\noindent\begin{tabular}{p{6cm}p{10cm}}
\tt he3\_diff\_hperp\_zz(ttc, p)\newline
\tt he3\_diff\_hpar\_zz(ttc, p)
& Spin diffusion in hydrodynamic limit ($\omega_L tau \ll 1$),
  $D^{\perp,\parallel}_{zz}(\omega_L=0)$, cm$^2$/s\newline
  {(\small Einzel JLTP84 (1991) f.102)}\\

\tt he3\_diff\_perp\_xx(ttc, p, nu0)\newline
\tt he3\_diff\_perp\_zz(ttc, p, nu0)\newline
\tt he3\_diff\_perp\_xx\_im(ttc, p, nu0)\newline
\tt he3\_diff\_perp\_zz\_im(ttc, p, nu0)\newline
\tt he3\_diff\_par\_xx(ttc, p, nu0)\newline
\tt he3\_diff\_par\_zz(ttc, p, nu0)\newline
&Components of spin diffusion tenzor, cm$^2$/s\newline
{\small(Bunkov et al, 1990 f.3; Einzel, 1991, f.108;\newline
Markelov, Mukharsky, 1992, f.7,8)}\\
\end{tabular}
\medskip

\noindent TODO: Exchange coupling strength is in the $F_1^a = 0$ limit.\\
{\tt he3\_diff\_par\_zz} from Markelov-Mukharsky paper does not correspond
to Einzel's hydrodynamic approximation {\tt he3\_diff\_hpar\_zz}!\\
How does {\tt he3\_diff\_perp\_??\_im} extends to normal phase?

\begin{figure}[p]
\includegraphics[scale=1.1]{transp_tau.eps}\\
\includegraphics[scale=1.1]{transp_diff.eps}
\end{figure}

\eject
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection*{Legget frequency}

\medskip
\noindent\begin{tabular}{lp{11cm}}
\tt he3\_nu\_b(ttc, p)       &B-phase Leggett frequency, Hz\newline
                             $\displaystyle \nu_B =\frac{1}{2\pi}\sqrt{\frac{3\pi}{2\chi}}
                             \ \frac{\gamma^2\hbar}{2}\ N(0)\ \Delta \log\frac{e_f}{\Delta}
                             \ C(P)$\newline
                             Small pressure correction $C(P)$ is added to fit exerimental data\\
\end{tabular}
\medskip

\begin{figure}[h]
\includegraphics[scale=1.1]{other_lf.eps}\\
\end{figure}

\eject

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection*{Other}

\medskip
\noindent\begin{tabular}{lp{11cm}}
\tt he3\_cv\_n(ttc, p)       &Normal phase heat capacity $C_v^N$, {\small Greywall-1983}\\

\tt he3\_swvel(p,t) & Osheroff's spin wave velocity $s$,~cm/s
                      vs $P$ [bar], $T$~[mK]. Value 1100 cm/s for
                      melting pressure is recalculated assuming $s\sim v_F$.\\
\tt he3\_swvel\_par(p,t) & Parallel Fomin spin wave velocity,\newline
                          $c_\parallel = \sqrt{2}\ s$,~cm/s vs $P$ [bar], $T$ [mK].\\
\tt he3\_swvel\_per(p,t) & Perp. Fomin spin wave velocity,\newline
                          $c_\perp = \sqrt{3/2}\ s$,~cm/s vs $P$ [bar], $T$ [mK].\\

\end{tabular}
\medskip

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection*{ROTA specific functions}

\medskip
\noindent\begin{tabular}{lp{11cm}}
\tt rota\_c\_ns(t, i) &Nuclear stage heat capacity [J/K] vs T[K] and I[A]\newline
   $C_{ns} = 9.66 \cdot 10^{-5}\ {\rm [J/T^2]} \ (0.113\ {\rm [T/A]}\  I/T)^2$\\

\end{tabular}
\medskip


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\end{document}

